{% extends 'websnapbook.html' %}
{% load static %}

{% block content %}
  <h2>{{ event.name }}</h2>
  <h2>Date: {{ event.date }}</h2>

  <div class="grid">
    <div class="grid-sizer"></div>
    {% for photo in photos %}
      <div class="grid-item">
        <a href="{% url 'websnapbook:photo_detail' photo.id %}">
          <img src="{{ photo.image.url }}" alt="Photo">
          <div class="overlay">
            <div class="comment-header">
              <p>{{ photo.uploader }}</p>
              <p>{{ photo.uploaded_at }}</p>
          </div>
          </div>
        </a>
      </div>
    {% empty %}
      <p>Aucune photo pour le moment.</p>
    {% endfor %}
  </div>
  <h4>Ajouter une photo</h4>
  <a href="{% url 'websnapbook:upload_photo' event.id %}">Envoyer une photo</a>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.2/masonry.pkgd.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var grid = document.querySelector('.grid');
      var masonry = new Masonry(grid, {
        itemSelector: '.grid-item',
        columnWidth: '.grid-sizer',
        percentPosition: true
      });
    });
  </script>
  

{% endblock %}
